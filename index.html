<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passwortschutz Test</title>
    <style>
        #passwordForm, #protectedContent {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Passwortformular -->
    <div id="passwordForm">
        <h2>Passwortgesch&uuml;tzter Bereich</h2>
        <input type="password" id="passwordInput" placeholder="Passwort eingeben">
        <button onclick="checkPassword()">Absenden</button>
    </div>

    <!-- Geschützter Inhalt -->
    <div id="protectedContent">
        <h2>Gesch&uuml;tzter Inhalt</h2>
        <p>Dies ist der gesch&uuml;tzte Inhalt, der nur sichtbar ist, wenn das Passwort korrekt eingegeben wird.</p>
    </div>

    <!-- JavaScript, um das Passwort zu prüfen und das Modul zu importieren -->
    <script type="module">
        // Importiere die Konfigurationswerte
        import { enablePasswordProtection, correctPasswordHash, changePassword } from './passwordConfig.js';

        // Warten bis die Seite vollständig geladen ist
        window.onload = function() {
            console.log("Module geladen:", enablePasswordProtection, correctPasswordHash);

            // Wenn Passwortschutz aktiviert ist, zeige das Passwortformular an
            if (enablePasswordProtection) {
                document.getElementById('passwordForm').style.display = 'block';
                document.getElementById('protectedContent').style.display = 'none';
            } else {
                document.getElementById('protectedContent').style.display = 'block';
                document.getElementById('passwordForm').style.display = 'none';
            }
        };

        // Passwortüberprüfung
        function checkPassword() {
            const enteredPassword = document.getElementById('passwordInput').value;

            // Überprüfen, ob das eingegebene Passwort korrekt ist
            if (enteredPassword === correctPasswordHash) {
                // Wenn Passwort korrekt ist, zeige den geschützten Inhalt
                document.getElementById('passwordForm').style.display = 'none';
                document.getElementById('protectedContent').style.display = 'block';
            } else {
                alert("Falsches Passwort!");
            }
        }
    </script>

</body>
</html>
